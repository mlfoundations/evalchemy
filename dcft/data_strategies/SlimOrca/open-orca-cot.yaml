operators:
  # - id: load_cot_zsopt_data
  #   config:
  #     type: hf_source
  #     dataset: Open-Orca/FLAN
  #     split: train
  #     data_dir: cot_zsopt_data

  - id: load_cot_zsopt_data
    config:
      type: function
      function: data_strategies.SlimOrca.utils.load_and_uniform_sample_dataset
      function_config:
        dataset_name: Open-Orca/FLAN
        data_dir: cot_zsopt_data
        num_samples: 1

  - id: add_system_instructions_cot
    input_ids:
      - load_cot_zsopt_data
    config:
      type: function
      function: data_strategies.SlimOrca.utils.add_system_instructions
      function_config:
        mixture_name: cot

  - id: generate_responses_cot
    input_ids:
      - add_system_instructions_cot
    config:
      type: function
      function: utils.completions.generate_response
      function_config:
        system_message_column: system_instruction
        user_message_column: inputs
        output_column: model_response
        model: gpt-4o-mini