output_ids: ['filter_instructions_rouge']
operators:  
  - id: load_seed_instructions
    config:
      type: function
      function: data_strategies.alpaca.utils.load_seed_instructions
      function_config:
        seed_tasks_path: "dcft/external_repositories/alpaca/seed_tasks.jsonl"
    
  - id: generate_from_openai
    config:
      type: function
      function: data_strategies.alpaca.utils.generate_from_openai
      function_config:
        num_instructions_to_generate: 100000
    input_ids:
      - load_seed_instructions
  
  - id: upload_generations
    config:
      type: function
      function: data_strategies.utils.hf_upload
      function_config: 
        dataset_name: alpaca_full
    input_ids:
      - generate_from_openai

  - id: filter_instructions_heuristics
    config:
      type: function
      function: data_strategies.alpaca.utils.filter_instructions_heuristics
    input_ids:
      - generate_from_openai

  - id: filter_instructions_rouge
    config:
      type: function
      function: data_strategies.alpaca.utils.filter_instructions_rouge_fast
      function_config:
        similarity_threshold: 0.7
      input_dataset_map:
        dataset: generate_from_openai
        seed_instructions: load_seed_instructions
    input_ids:
      - generate_from_openai
      - load_seed_instructions